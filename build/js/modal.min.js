"use strict";var modalTemplate=document.querySelector("#modal__call").content.querySelector(".modal"),modal=modalTemplate.cloneNode(!0),successTemplate=document.querySelector("#success").content.querySelector(".success"),success=successTemplate.cloneNode(!0),callRequest=document.querySelector(".header__request-call");function addModalHandler(){var e=document.body.querySelector("main .modal"),t=e.querySelector(".overlay"),o=e.querySelectorAll(".close");function n(){t.removeEventListener("click",c),Object.keys(o).forEach(function(e){o[e].addEventListener("click",r)}),document.removeEventListener("keydown",l)}function a(){document.body.style.overflow="auto",e.parentNode&&e.parentNode.removeChild(e)}function r(){a(),n()}function c(e){e.target===t&&(a(),n())}function l(e){"Escape"===e.key&&(a(),n())}document.body.style.overflow="hidden",t.addEventListener("click",c),Object.keys(o).forEach(function(e){o[e].addEventListener("click",r)}),document.addEventListener("keydown",l)}callRequest.addEventListener("click",function(e){e.preventDefault(),document.body.querySelector("main").prepend(modal),$(".mask-phone").mask("+7 (999) 999-99-99"),document.querySelector(".modal__input-field-name").focus(),addModalHandler();var t=document.querySelector(".modal__data-block"),n=t.querySelectorAll(".modal__input-field");t.addEventListener("submit",function(e){e.preventDefault();var t=[];Object.keys(n).forEach(function(e){t.push(n[e].value)}),localStorage.setItem("personData",JSON.stringify(t));var o=document.body.querySelector("main .modal");o.parentNode.removeChild(o),document.body.querySelector("main").prepend(success),addModalHandler()})});var wantGo=document.querySelector(".want-go__form"),inputPhone=wantGo.querySelector(".want-go__input-field");wantGo.addEventListener("submit",function(e){e.preventDefault();var t=[];t.push(inputPhone.value),localStorage.setItem("personData",JSON.stringify(t)),document.body.querySelector("main").prepend(success),addModalHandler()});var moreDetails=document.querySelector(".more-details__form"),inputData=moreDetails.querySelectorAll(".more-details__form input");moreDetails.addEventListener("submit",function(e){e.preventDefault();var t=[];Object.keys(inputData).forEach(function(e){t.push(inputData[e].value)}),localStorage.setItem("personData",JSON.stringify(t)),document.body.querySelector("main").prepend(success),addModalHandler()});